
Chapter 0-setup

Course 2

A) Include source

Creat a directory "src".
Inside it add source-file and header
user to include definition of mostly declaration of function.
Those header are for the one in "inc" or bettween the one in "src".

Another directory "inc" that contain the header
that will be include in the other projects.

B) Static library

a) Resum

We will creat a static library.
It was a binary file that can be link
to the source he was include in.

The Compile command to output static library was as follow:
~{
gcc -ansi -c src/module.c -o nuild/module.o -Isrc
ar rcs build/lib{name}.a build/module.o
}~

In the Makefile it become:
~{
CC= -gcc -ansi
LIB_CC= ar rcs

MODULE1= module_one

P1= build/
LIB_OBJ= $(P1)$(MODULE1).o
LIB= $(P1)lib$(MODULE1).a

LINK= -Lbuild/ -l$(MODULE1)

$(LIB): $(LIB_OBJ)
	$(LIB_CC) $@ $^

$(P1)%.o: src/%.c
	$(CC) -c $< -o $@ -Isrc
}~

Also need to include the link of thge executable.
And to include the header-file from "inc" that include the modules.

In the Makefile it become:
~{
CC= -gcc -ansi

EXE_SRC= main.c
EXE= build/app.exe

LIB_NAME= module_one
P1= build/
LIB= $(P1)$(LIB_NAME).a

LINK= -Lbuild -lmymath

$(EXE): $(EXE_SRC) $(LIB)
	$(CC) -o $@ $^ -Iinc $(LINK)
}~


